<?xml version="1.0" encoding="utf-8"?>
<odoo>

  <template id="reference_detail" name="Reference">
    <t t-call="website.layout">
      <div class="opt_dark_bg reference-detail" id="wrap">
        <t t-call="theme_fluxdocs.mgmt_actions">
            <t t-set="object" t-value="reference"/>
        </t>
        <div>
          <div class="container-xxlg">
            <div class="top-image jumbotron" t-att-style="'background-image:url({})'.format(reference.image_url)">
            </div>
          </div>
          <div class="container">
            <div class="center-block main-content-wrapper" id="ref_content">
              <h1><t t-esc="reference.name"/></h1>
              <div class="item-description" t-field="reference.website_short_description" />
              <div class="info border-tnb mb32 mt16 pt1 pb1">
                <div class="row">
                  <div class="col-md-3"><strong>Date:</strong>
                  </div>
                  <div class="col-md-9"><span t-field="reference.implementation_date" />
                  </div>
                </div>
                <div class="row">
                  <div class="col-md-3"><strong>Location:</strong>
                  </div>
                  <div class="col-md-9"><span t-field="reference.location" />
                  </div>
                </div>
                <div class="row">
                  <div class="col-md-3"><strong>Country:</strong>
                  </div>
                  <div class="col-md-9"><span t-field="reference.country_id.name" />
                  </div>
                </div>
                <div class="row">
                  <div class="col-md-3"><strong>Video URL:</strong>
                  </div>
                  <div class="col-md-9"><a t-att-href="reference.video_url" t-esc="reference.video_url"/>
                  </div>
                </div>
                <div class="row">
                  <div class="col-md-3"><strong>Website URL:</strong>
                  </div>
                  <div class="col-md-9"><a t-att-href="reference.ext_website_url" t-esc="reference.ext_website_url"/>
                  </div>
                </div>
                <div class="row">
                  <div class="col-md-3"><strong>Industry:</strong>
                  </div>
                  <div class="col-md-9">
                    <t t-foreach="reference.industry_ids" t-as="one_tag">
                      <t t-esc="one_tag.name + ('' if one_tag_last else ', ')" />
                    </t>
                  </div>
                </div>
                <div class="row">
                  <div class="col-md-3"><strong>Expertise:</strong>
                  </div>
                  <div class="col-md-9">
                    <t t-foreach="reference.expertise_ids" t-as="one_tag">
                      <t t-esc="one_tag.name + ('' if one_tag_last else ', ')" />
                    </t>
                  </div>
                </div>
              </div>

              <div class="linked-partners mb64 mt32">
                <h3 class="text-center border-bottom pb05">Related Members</h3>
                <div class="row">
                  <t t-set="owner" t-value="reference.create_uid.partner_id" />
                  <div class="col-md-12">
                    <a t-att-href="owner.website_url">
                        <span t-esc="owner.name"/><span class="pull-right fa fa-arrow-right"/>
                    </a>
                  </div>
                </div>
                <t t-foreach="reference.linked_partner_ids" t-as="linked_partner">
                  <div class="row">
                    <div class="col-md-12">
                      <a t-att-href="linked_partner.website_url">
                          <span t-esc="linked_partner.name"/><span class="pull-right fa fa-arrow-right"/>
                      </a>
                    </div>
                  </div>
                </t>
              </div>
            </div>
          </div>
        </div>
      </div>
    </t>
  </template>

    <!-- TODO: make this generic and reuse the same logic and template for every model! -->
    <template id="reference_delete_confirm" name="Reference delete confirm">
        <t t-call="website.layout">
            <div class="delete_confirm" style="clear:both;">
                <section class="content members-list opt_dark_bg text-center">
                    <h3>Are you sure you want to remove this reference?</h3>
                    <a class="btn btn-primary btn-show-proposal" title="Confirm" t-attf-href="#{reference.website_url}/delete">
                        Confirm
                    </a>
                    <a class="btn btn-primary btn-show-proposal" title="Cancel" t-attf-href="#{reference.website_url}/edit">
                        Cancel
                    </a>
                </section>
            </div>
        </t>
    </template>

</odoo>
