<?xml version="1.0" encoding="utf-8" ?>
<openerp>
	<data>
		<!-- Customize header -->
		<template id="custom_header" inherit_id="website.layout" name="Custom Header">

			<xpath expr="//div[@id='wrapwrap']/header" position="replace">
				<header id="my_header">
                    <div class="fluxdock-topbar">
                    	
                    	<a href="/" class="fluxdock-header-logo">
				        	<div class="fluxdock-logo"></div>
				        	<div class="fluxdock-title"></div>
		        		</a>
		        		
		        		<div class="mobile-menu-trigger">
		        			<i class="fa fa-bars"></i>
		        		</div>
		        		
                        <ul class="main-menu">
		                	<t t-foreach="website.menu_id.child_id" t-as="submenu">
		                		<t t-call="website.submenu"/>
		                	</t>
		            	</ul>
            	
            	
						<!-- Logged in -->
		                <ul class="service-menu" t-ignore="true" t-if="website.user_id != user_id">
		                    <li id="o_logout">
		                    	<a t-attf-href="/web/session/logout?redirect=/" role="menuitem">
		                    		Logout
		                    		<!-- <span t-esc="(len(user_id.name)&gt;25) and (user_id.name[:23]+'...') or user_id.name"/>  -->
		                    	</a>
		                    </li>
		                    <li>
			            		<t t-call="website.language_selector"/>
		                    </li>
		                </ul>
                
						<!-- Anonymous -->
		                <ul class="service-menu" t-ignore="true" t-if="not website.user_id != user_id">
							<li>
		                    	<a href="/web/login?redirect=/">Login</a>
		                    </li>
		                    <li>
		                    	<a href="/web/signup">Sign Up</a>
		                    </li>
		                    <li>
			            		<t t-call="website.language_selector"/>
		                    </li>
		            	</ul>
	                </div>
                </header>
			</xpath>
			
		</template>
		
		
		
		<!-- Customize footer -->
		<template id="fluxdock_footer" inherit_id="website.layout" name="Fluxdock Footer">
			
			<!-- ADD ID -->
			<xpath expr="//div[@id='wrapwrap']/footer" position="attributes">
				<attribute name="id">my_footer</attribute>
			</xpath>
			
		</template>
		
		
		<!-- Customize News List -->
		<template id="fluxdock_news_list" inherit_id="website_blog.blog_post_short" name="Fluxdock News List">
			
			
			<xpath expr="//div[@id='main_column']" position="replace">
				<div t-ignore="True" id="main_column">

                <div t-if="not blog_posts" class="blog-list no-blogs">
                  <p class="css_editable_hidden">
                    <h1>No blog post yet.</h1>
                  </p>
                  <p groups="base.group_website_designer">
                    Click on "Content" on the top menu to write your first blog post.
                  </p>
                </div>

                <div t-foreach="blog_posts" t-as="blog_post" class="blog-list">
                	<div class="blog-date" t-field="blog_post.create_date" t-field-options='{"format": "dd MMMM yyyy"}'/>
                    <a t-attf-href="/blog/#{ slug(blog_post.blog_id) }/post/#{ slug(blog_post) }">
                        <h2 t-field="blog_post.name" class="blog-name"><t t-if="not blog_post.name">Untitled Post</t></h2>
                    </a>
                    <div class="text-muted">
                        <h4 t-field="blog_post.subtitle" class="blog-subtitle"></h4>
                        <div name='blog_post_data' class='mb0'>
                        	
                        	<!-- Filled by other template -->
                        	
                        	<span t-if="not blog_post.website_published" class="label label-danger">not published</span>
                        </div>
                    </div>
                </div>
              </div>
			</xpath>
			
		</template>
		
		
	</data>
</openerp>