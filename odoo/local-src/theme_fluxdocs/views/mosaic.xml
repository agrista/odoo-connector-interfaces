<?xml version="1.0" encoding="utf-8" ?>
<odoo>

    <template id="mosaic" name="Fluxdock mosaic">

        <!--
        Create a mosaic of pictures using Masonry lib.

        USAGE:

        <t t-call="theme_fluxdocs.mosaic">
            <t t-set="data_model" t-value="'res.partner'" />
            <t t-set="data_limit" t-value="'4'" />
            <t t-set="data_order" t-value="'name asc'" />
            <t t-set="data_domain" t-value='"""[["create_uid","=",{}]]""".format(request.uid)' />
        </t>
        -->

        <t t-set="data_model" t-value="data_model or ''" />
        <t t-set="data_limit" t-value="data_limit or '8'" />
        <t t-set="data_order" t-value="data_order or 'create_date desc'" />
        <t t-set="data_domain" t-value="data_domain or '[]'" />

        <script id="mosaic-grid-tmpl" type="text/template">
            <div class="grid-item hidden">
        		<a href="&amp;lt;%- url %&amp;gt;" title="&amp;lt;%- title %&amp;gt;">
        			<img src="&amp;lt;%- src %&amp;gt;" />
        		</a>
            </div>
        </script>

        <div class="mosaic grid"
             t-att-data-model="data_model"
             t-att-data-limit="data_limit"
             t-att-data-order="data_order"
             t-att-data-domain="data_domain"
             data-template="mosaic-grid-tmpl"
             data-fields='{"display_name":"title","website_url":"url","image_url":"src"}'>
          <div class="grid-sizer"></div>
          <div class="grid-item">
            <img src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/82/orange-tree.jpg" />
          </div>
          <div class="grid-item">
            <img src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/82/submerged.jpg" />
          </div>
          <div class="grid-item">
            <img src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/82/look-out.jpg" />
          </div>
        </div>
    </template>

</odoo>
