<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <template id="fluxdock_membership" name="Fluxdock membership" inherit_id="website_membership.index">
      <xpath expr="//div[@id='wrap']" position="replace">
        <div id="wrap">
          <div class="oe_structure">
            <!--  make membership module inheritance happy also in demo mode! -->
            <div id="left_column" style="display:none!important">
				<ul class="nav nav-pills nav-stacked mt16"><li></li></ul>
            </div>

            <section class="content opt_dark_bg">
              <div class="content-wrap">
                <div class="content-icon">
                    <img src="/specific_membership/static/src/img/members-white.png"></img>
                </div>
                <h2>Members</h2>
                <p align="left">Fluxdock is based on its members. They form all together the interdisciplinary and collaborative network that enables the members mutually to innovation. See here are all members of Fluxdock, their industries and special expertises.</p>
                <form action="/members" method="get" class="search-panel members-search-panel">
                    <div class="row filter-row row-1">
                        <div class="col-md-12">
                            <input type="text" name="search" class="search-query form-control" placeholder="Search" t-att-value="post.get('search', '')" />
                            <button type="submit" class="btn btn-default btn-primary ">Search</button>
                        </div>
                    </div>
                    <div class="row filter-row row-2">
                        <div class="col-md-4">
                            <input name="search_industries"
                                  class="search-query form-control oe_search_box js_select2_categories"
                                  placeholder="Industries"
                                  t-attf-data-init-value="#{industries}" value="Industry"/>
                        </div>
                        <div class="col-md-4">
                            <input name="search_expertises"
                                  class="search-query form-control oe_search_box js_select2_expertises"
                                  placeholder="Expertises"
                                  t-attf-data-init-value="#{expertises}" value="Expertise"/>
                        </div>
                        <div class="col-md-4">
                            <div class="styled-select">
                              <select name="search_country" class="form-control">
                                <option value="">All countries</option>
                                <t t-foreach="countries or []" t-as="country">
                                  <option t-att-value="country['country_id'][0]"
                                    t-att-selected="country['country_id'][0] == selected_country_id">
                                    <t t-esc="country['country_id'][1]" />
                                  </option>
                                </t>
                              </select>
                            </div>
                        </div>
                    </div>
                </form>
                <div class="row hide">
                  <div class="col-md-12">
                    <h1 class="hide text-center">Our Members Directory</h1>
                    <h3 class="hide text-muted text-center">Find a business partner</h3>
                  </div>
                </div>
              </div>
            </section>
          </div>
          <div class="container">
            <div class="center-block main-content-wrapper" id="ref_content">
                <div class='navbar hide'>
                  <t t-call="website.pager">
                    <t t-set="classname">pull-left</t>
                  </t>
                  <form action="" method="get" class="search-query search-panel members-search-panel">
                    <div class="filter-row row-1">
                        <t t-call="website.website_search_box">
                            <t t-set="search" t-value="post.get('search', '')" />
                        </t>
                    </div>
                  </form>
                </div>
                <div class="listing members-listing">
                  <t t-if="not memberships_partners">
                      <div class="row no-results">
                          <p>No result found.</p>
                      </div>
                  </t>
                  <t t-foreach="memberships_partners" t-as="partner">
                    <div class="row list-item">
                        <t t-set="detail_href" t-value="'/members/' + slug(partner)" />
                        <div class="col-md-3">
                            <a class="item-preview"
                               t-att-href="detail_href"
                               t-field="partner.image"
                               t-field-options='{"widget": "image", "class": "media-object center-block", "max_width": 128}'
                               />
                        </div>
                        <div class="col-md-9">
                            <div class="item-details">
                                <a class="item-heading" t-att-href="detail_href">
                                  <strong t-field="partner.display_name" />
                                </a>
                                <div class="item-description">
                                  <span t-esc="website.truncate_text(partner.website_short_description, length=200)" />
                                  <a class="read-more"
                                     t-att-href="detail_href">Read More
                                      <i class="fa fa-long-arrow-right"></i>
                                  </a>
                                </div>
                                <div class="item-tags">
                                    <strong>Industry:</strong>
                                    <span class="tag-value">
                                        <t t-foreach="partner.category_id" t-as="one_tag">
                                          <t t-esc="one_tag.name + ('' if one_tag_last else ', ')" />
                                        </t>
                                    </span>
                                </div>
                                <div class="item-tags">
                                    <strong>Expertise:</strong>
                                    <span class="tag-value">
                                        <t t-foreach="partner.expertise_ids" t-as="one_tag">
                                          <t t-esc="one_tag.name + ('' if one_tag_last else ', ')" />
                                        </t>
                                    </span>
                                </div>
                            </div>
                        </div>
                    </div>
                  </t>
                </div>
            </div>
          </div>
          <div class="oe_structure" />
        </div>
        <div class="text-center mb32">
          <t t-call="website.pager"/>
        </div>
      </xpath>
    </template>

</odoo>
