<!--
TODO:
website_portal_sale dependency removed.
Some overrides for website_portal_sale: is this stuff still needed on v11?
Also, we are dropping membership modules... not sure we have to display such things.
-->


    <!-- XXX: while are we hiding instead of removing here??? -->
    <!-- hide quotations -->
    <template id="website_portal_sale.quotations" name="Quotations">
        <div class="hide">
            <h3 class="page-header">Your Quotes</h3>
            <t t-if="not quotations">
                <p>There are currently no quotes for your account.</p>
            </t>
            <t t-if="quotations">
                <table class="table table-hover o_my_status_table">
                    <thead>
                    <tr class="active">
                        <th>Quotation #</th>
                        <th>Valid Until</th>
                        <th></th>
                        <th>Total</th>
                        </tr>
                    </thead>
                    <t t-foreach="quotations" t-as="quotation">
                        <tr t-att-class="'hidden to_hide' if quotation.state!='sent' and quotation_index &gt; 4 else ''">
                            <td>
                                <a t-att-href="'/my/orders/'+str(quotation.id)"><t t-esc="quotation.name"/></a>
                            </td>
                            <td><span t-field="quotation.validity_date"/></td>
                            <td>
                            <t t-if="quotation.state == 'cancel'">
                                <span class="label label-default"><i class="fa fa-fw fa-remove"/> Cancelled</span>
                            </t>
                            <t t-if="quotation.validity_date and quotation.validity_date &lt; date">
                                <span class="label label-default"><i class="fa fa-fw fa-clock-o"/> Expired</span>
                            </t>
                            </td>
                            <td><span t-field="quotation.amount_total" t-field-options='{"widget": "monetary", "display_currency": "quotation.pricelist_id.currency_id"}'/>
                            </td>
                        </tr>
                    </t>
                    <tr t-att-class="'hidden' if len(quotations) &lt; 5 else ''">
                    <td colspan="5"><a href="" class="o_my_show_more btn btn-xs btn-default"><span>Show more</span><span class="hidden">Show less</span></a></td>
                    </tr>
                </table>
            </t>
        </div>
    </template>
    <!-- hide sales -->
    <template id="website_portal_sale.sale_orders" name="Sales Orders">
        <div class="hide">
            <h3 class="page-header">Your Orders</h3>
            <t t-if="not orders">
                <p>There are currently no orders for your account.</p>
            </t>
            <t t-if="orders">
                <table class="table table-hover o_my_status_table">
                    <thead>
                    <tr class="active">
                        <th>Sale Order #</th>
                        <th>Order Date</th>
                        <th></th>
                        <th>Total</th>
                    </tr>
                    </thead>
                    <t t-foreach="orders" t-as="order">
                        <tr t-att-class="'hidden to_hide' if order.state not in ['manual', 'progress'] and order_index &gt; 4 else ''">
                            <td>
                                <a t-att-href="'/my/orders/'+str(order.id)"><t t-esc="order.name"/></a>
                            </td>
                            <td><span t-field="order.date_order"/></td>
                            <td>
                                <t t-if="order.state == 'progress'">
                                    <span class="label label-info"><i class="fa fa-fw fa-clock-o"/> Invoiced</span>
                                </t>
                                <t t-if="order.state in ['shipping_except','invoice_except']">
                                    <span class="label label-danger"><i class="fa fa-fw fa-warning"/> Problem</span>
                                </t>
                                <t t-if="order.state == 'done'">
                                    <span class="label label-default"><i class="fa fa-fw fa-check"/> Done</span>
                                </t>
                            </td>
                            <td><span t-field="order.amount_total" t-field-options='{"widget": "monetary", "display_currency": "order.pricelist_id.currency_id"}'/></td>
                        </tr>
                    </t>
                    <tr t-att-class="'hidden' if len(orders) &lt; 5 else ''">
                    <td colspan="4"><a href="" class="o_my_show_more btn btn-xs btn-default"><span>Show more</span><span class="hidden">Show less</span></a></td>
                    </tr>
                </table>
            </t>
        </div>
    </template>
    <!-- hide invoices -->
    <template id="website_portal_sale.invoices" name="Invoices and Payments">
        <div class="hide">
            <h3 class="page-header">Your Invoices and Payments</h3>
            <t t-if="not invoices">
                <p>There are currently no invoices for your account.</p>
            </t>
            <t t-if="invoices">
                <table class="table table-hover o_my_status_table">
                    <thead>
                    <tr class="active">
                        <th>Invoice #</th>
                        <th>Invoice Date</th>
                        <th>Due Date</th>
                        <th></th>
                        <th></th>
                        <th>Amount Due</th>
                    </tr>
                    </thead>
                    <t t-foreach="invoices" t-as="invoice">
                        <tr t-att-class="'hidden to_hide' if invoice.state!='open' and invoice_index &gt; 4 else ''">
                            <td class= "cell_overflow">
                                <a t-att-href="'/report/pdf/account.report_invoice/'+str(invoice.id)" t-att-title="invoice.number"><t t-esc="invoice.number"/></a>
                            </td>
                            <td><span t-field="invoice.date_invoice"/></td>
                            <td><span t-field="invoice.date_due"/></td>
                            <td>
                                <t t-if="invoice.state == 'open'">
                                    <span class="label label-info"><i class="fa fa-fw fa-clock-o"/> Waiting for Payment</span>
                                </t>
                                <t t-if="invoice.state == 'paid'">
                                    <span class="label label-default"><i class="fa fa-fw fa-check"/> Paid</span>
                                </t>
                                <t t-if="invoice.state == 'cancel'">
                                    <span class="label label-default"><i class="fa fa-fw fa-remove"/> Cancelled</span>
                                </t>
                            </td>
                            <td>
                            <a t-if="invoice.state == 'open'" t-attf-href="/website_payment/pay?reference=#{invoice.number}&amp;amount=#{invoice.residual}&amp;currency_id=#{invoice.currency_id.id}&amp;country_id=#{invoice.partner_id.country_id.id}" alt="Pay Now" class="btn btn-xs btn-primary"><i class="fa fa-arrow-circle-right"/> Pay Now</a>
                            </td>
                            <td><span t-field="invoice.residual" t-field-options='{"widget": "monetary", "display_currency": "invoice.currency_id"}'/></td>
                        </tr>
                    </t>
                    <tr t-att-class="'hidden' if len(invoices) &lt; 5 else ''">
                    <td colspan="5"><a href="" class="o_my_show_more btn btn-xs btn-default"><span>Show more</span><span class="hidden">Show less</span></a></td>
                    </tr>
                </table>
            </t>
        </div>
    </template>
